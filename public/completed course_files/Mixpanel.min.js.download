var Mixpanel_RS=function(e){"use strict";function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y=function(e){return null!=e&&"object"===n(e)&&!1===Array.isArray(e)},v=function(e,t,r){if(y(r)||(r={default:r}),!g(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var n=Array.isArray(t),o="string"==typeof t,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return e;if(o&&t in e)return m(t,e,r)?e[t]:r.default;var u=n?t:function(e,t,r){if("function"==typeof r.split)return r.split(e);return e.split(t)}(t,i,r),c=u.length,s=0;do{var l=u[s];for("number"==typeof l&&(l=String(l));l&&"\\"===l.slice(-1);)l=h([l.slice(0,-1),u[++s]||""],a,r);if(l in e){if(!m(l,e,r))return r.default;e=e[l]}else{for(var f=!1,p=s+1;p<c;)if(f=(l=h([l,u[p++]],a,r))in e){if(!m(l,e,r))return r.default;e=e[l],s=p-1;break}if(!f)return r.default}}while(++s<c&&g(e));return s===c?e:r.default};function h(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}function m(e,t,r){return"function"!=typeof r.isValid||r.isValid(e,t)}function g(e){return y(e)||Array.isArray(e)||"function"==typeof e}var b=d(v),_="MP",w="Mixpanel";u({},w,"Mixpanel"),u(u(u(u(u(u({},_,_),"MIXPANEL",_),"Mixpanel",_),"MIX PANEL",_),"Mix panel",_),"Mix Panel",_);var j={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},O=function(){function e(t,r){o(this,e),this.level=+r||j.ERROR.value,this.scope=t||""}return a(e,[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=j[t]?j[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,j.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,j.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,j.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,j.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,j.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var r=Object.values(j).find((function(e){return e.value===t}));r.method.apply(r,c(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var r=e[0].trim();t="".concat(t," %c ").concat(r);var n=[];return n.push(t),n.push("font-weight: bold; background: black; color: white;"),n.push("font-weight: normal;"),n.push.apply(n,c(e.slice(1))),n}return e}}]),e}();var x=d((function(e){return void 0===e})),k={exports:{}};!function(e,t){var r=9007199254740991,o="[object Arguments]",i="[object Function]",a="[object GeneratorFunction]",u="[object Map]",c="[object Promise]",s="[object Set]",l="[object WeakMap]",f="[object DataView]",d=/^\[object .+?Constructor\]$/,y="object"==n(p)&&p&&p.Object===Object&&p,v="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,h=y||v||Function("return this")(),m=t&&!t.nodeType&&t,g=m&&e&&!e.nodeType&&e,b=g&&g.exports===m;var _,w,j,O=Function.prototype,x=Object.prototype,k=h["__core-js_shared__"],A=(_=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",S=O.toString,P=x.hasOwnProperty,E=x.toString,I=RegExp("^"+S.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=b?h.Buffer:void 0,$=x.propertyIsEnumerable,M=N?N.isBuffer:void 0,C=(w=Object.keys,j=Object,function(e){return w(j(e))}),T=W(h,"DataView"),R=W(h,"Map"),D=W(h,"Promise"),L=W(h,"Set"),B=W(h,"WeakMap"),F=!$.call({valueOf:1},"valueOf"),U=J(T),q=J(R),V=J(D),z=J(L),K=J(B);function G(e){if(!te(e)||function(e){return!!A&&A in e}(e))return!1;var t=ee(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}(e)?I:d;return t.test(J(e))}function W(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return G(r)?r:void 0}var X=function(e){return E.call(e)};function J(e){if(null!=e){try{return S.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function H(e){return function(e){return function(e){return!!e&&"object"==n(e)}(e)&&Y(e)}(e)&&P.call(e,"callee")&&(!$.call(e,"callee")||E.call(e)==o)}(T&&X(new T(new ArrayBuffer(1)))!=f||R&&X(new R)!=u||D&&X(D.resolve())!=c||L&&X(new L)!=s||B&&X(new B)!=l)&&(X=function(e){var t=E.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?J(r):void 0;if(n)switch(n){case U:return f;case q:return u;case V:return c;case z:return s;case K:return l}return t});var Q=Array.isArray;function Y(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!ee(e)}var Z=M||function(){return!1};function ee(e){var t=te(e)?E.call(e):"";return t==i||t==a}function te(e){var t=n(e);return!!e&&("object"==t||"function"==t)}e.exports=function(e){if(Y(e)&&(Q(e)||"string"==typeof e||"function"==typeof e.splice||Z(e)||H(e)))return!e.length;var t=X(e);if(t==u||t==s)return!e.size;if(F||function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}(e))return!C(e).length;for(var r in e)if(P.call(e,r))return!1;return!0}}(k,k.exports);var A=d(k.exports),S={exports:{}};!function(e,t){var r="__lodash_hash_undefined__",o=1,i=2,a=1/0,u=9007199254740991,c="[object Arguments]",s="[object Array]",l="[object Boolean]",f="[object Date]",d="[object Error]",y="[object Function]",v="[object GeneratorFunction]",h="[object Map]",m="[object Number]",g="[object Object]",b="[object Promise]",_="[object RegExp]",w="[object Set]",j="[object String]",O="[object Symbol]",x="[object WeakMap]",k="[object ArrayBuffer]",A="[object DataView]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,E=/^\./,I=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,$=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[c]=C[s]=C[k]=C[l]=C[A]=C[f]=C[d]=C[y]=C[h]=C[m]=C[g]=C[_]=C[w]=C[j]=C[x]=!1;var T="object"==n(p)&&p&&p.Object===Object&&p,R="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,D=T||R||Function("return this")(),L=t&&!t.nodeType&&t,B=L&&e&&!e.nodeType&&e,F=B&&B.exports===L&&T.process,U=function(){try{return F&&F.binding("util")}catch(e){}}(),q=U&&U.isTypedArray;function V(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function z(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function G(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function W(e,t){return function(r){return e(t(r))}}function X(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var J,H=Array.prototype,Q=Function.prototype,Y=Object.prototype,Z=D["__core-js_shared__"],ee=(J=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+J:"",te=Q.toString,re=Y.hasOwnProperty,ne=Y.toString,oe=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=D.Symbol,ae=D.Uint8Array,ue=W(Object.getPrototypeOf,Object),ce=Y.propertyIsEnumerable,se=H.splice,le=Object.getOwnPropertySymbols,fe=W(Object.keys,Object),pe=Ve(D,"DataView"),de=Ve(D,"Map"),ye=Ve(D,"Promise"),ve=Ve(D,"Set"),he=Ve(D,"WeakMap"),me=Ve(Object,"create"),ge=et(pe),be=et(de),_e=et(ye),we=et(ve),je=et(he),Oe=ie?ie.prototype:void 0,xe=Oe?Oe.valueOf:void 0,ke=Oe?Oe.toString:void 0;function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.__data__=new Pe;++t<r;)this.add(e[t])}function Ie(e){this.__data__=new Se(e)}function Ne(e,t){var r=ot(e)||nt(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!re.call(e,i)||o&&("length"==i||We(i,n))||r.push(i);return r}function $e(e,t){for(var r=e.length;r--;)if(rt(e[r][0],t))return r;return-1}function Me(e,t){for(var r=0,n=(t=Xe(t,e)?[t]:Be(t)).length;null!=e&&r<n;)e=e[Ze(t[r++])];return r&&r==n?e:void 0}function Ce(e,t){return null!=e&&t in Object(e)}function Te(e,t,r,n,a){return e===t||(null==e||null==t||!ct(e)&&!st(t)?e!=e&&t!=t:function(e,t,r,n,a,u){var p=ot(e),y=ot(t),v=s,b=s;p||(v=(v=Ge(e))==c?g:v);y||(b=(b=Ge(t))==c?g:b);var x=v==g&&!K(e),S=b==g&&!K(t),P=v==b;if(P&&!x)return u||(u=new Ie),p||pt(e)?Fe(e,t,r,n,a,u):function(e,t,r,n,a,u,c){switch(r){case A:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!n(new ae(e),new ae(t)));case l:case f:case m:return rt(+e,+t);case d:return e.name==t.name&&e.message==t.message;case _:case j:return e==t+"";case h:var s=G;case w:var p=u&i;if(s||(s=X),e.size!=t.size&&!p)return!1;var y=c.get(e);if(y)return y==t;u|=o,c.set(e,t);var v=Fe(s(e),s(t),n,a,u,c);return c.delete(e),v;case O:if(xe)return xe.call(e)==xe.call(t)}return!1}(e,t,v,r,n,a,u);if(!(a&i)){var E=x&&re.call(e,"__wrapped__"),I=S&&re.call(t,"__wrapped__");if(E||I){var N=E?e.value():e,$=I?t.value():t;return u||(u=new Ie),r(N,$,n,a,u)}}if(!P)return!1;return u||(u=new Ie),function(e,t,r,n,o,a){var u=o&i,c=dt(e),s=c.length,l=dt(t),f=l.length;if(s!=f&&!u)return!1;var p=s;for(;p--;){var d=c[p];if(!(u?d in t:re.call(t,d)))return!1}var y=a.get(e);if(y&&a.get(t))return y==t;var v=!0;a.set(e,t),a.set(t,e);var h=u;for(;++p<s;){var m=e[d=c[p]],g=t[d];if(n)var b=u?n(g,m,d,t,e,a):n(m,g,d,e,t,a);if(!(void 0===b?m===g||r(m,g,n,o,a):b)){v=!1;break}h||(h="constructor"==d)}if(v&&!h){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,n,a,u)}(e,t,Te,r,n,a))}function Re(e){return!(!ct(e)||(t=e,ee&&ee in t))&&(at(e)||K(e)?oe:$).test(et(e));var t}function De(e){return"function"==typeof e?e:null==e?vt:"object"==n(e)?ot(e)?function(e,t){if(Xe(e)&&He(t))return Qe(Ze(e),t);return function(r){var n=function(e,t,r){var n=null==e?void 0:Me(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){t=Xe(t,e)?[t]:Be(t);var n,o=-1,i=t.length;for(;++o<i;){var a=Ze(t[o]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}if(n)return n;i=e?e.length:0;return!!i&&ut(i)&&We(a,i)&&(ot(e)||nt(e))}(e,t,Ce)}(r,e):Te(t,n,void 0,o|i)}}(e[0],e[1]):function(e){var t=function(e){var t=dt(e),r=t.length;for(;r--;){var n=t[r],o=e[n];t[r]=[n,o,He(o)]}return t}(e);if(1==t.length&&t[0][2])return Qe(t[0][0],t[0][1]);return function(r){return r===e||function(e,t,r,n){var a=r.length,u=a,c=!n;if(null==e)return!u;for(e=Object(e);a--;){var s=r[a];if(c&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<u;){var l=(s=r[a])[0],f=e[l],p=s[1];if(c&&s[2]){if(void 0===f&&!(l in e))return!1}else{var d=new Ie;if(n)var y=n(f,p,l,e,t,d);if(!(void 0===y?Te(p,f,n,o|i,d):y))return!1}}return!0}(r,e,t)}}(e):Xe(t=e)?(r=Ze(t),function(e){return null==e?void 0:e[r]}):function(e){return function(t){return Me(t,e)}}(t);var t,r}function Le(e){if(!ct(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Je(e),r=[];for(var n in e)("constructor"!=n||!t&&re.call(e,n))&&r.push(n);return r}function Be(e){return ot(e)?e:Ye(e)}function Fe(e,t,r,n,a,u){var c=a&i,s=e.length,l=t.length;if(s!=l&&!(c&&l>s))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var p=-1,d=!0,y=a&o?new Ee:void 0;for(u.set(e,t),u.set(t,e);++p<s;){var v=e[p],h=t[p];if(n)var m=c?n(h,v,p,t,e,u):n(v,h,p,e,t,u);if(void 0!==m){if(m)continue;d=!1;break}if(y){if(!z(t,(function(e,t){if(!y.has(t)&&(v===e||r(v,e,n,a,u)))return y.add(t)}))){d=!1;break}}else if(v!==h&&!r(v,h,n,a,u)){d=!1;break}}return u.delete(e),u.delete(t),d}function Ue(e){return function(e,t,r){var n=t(e);return ot(e)?n:V(n,r(e))}(e,yt,Ke)}function qe(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Ve(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=me?me(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(me){var n=t[e];return n===r?void 0:n}return re.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:re.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?r:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=$e(t,e);return!(r<0)&&(r==t.length-1?t.pop():se.call(t,r,1),!0)},Se.prototype.get=function(e){var t=this.__data__,r=$e(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return $e(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=$e(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Pe.prototype.clear=function(){this.__data__={hash:new Ae,map:new(de||Se),string:new Ae}},Pe.prototype.delete=function(e){return qe(this,e).delete(e)},Pe.prototype.get=function(e){return qe(this,e).get(e)},Pe.prototype.has=function(e){return qe(this,e).has(e)},Pe.prototype.set=function(e,t){return qe(this,e).set(e,t),this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,r),this},Ee.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.clear=function(){this.__data__=new Se},Ie.prototype.delete=function(e){return this.__data__.delete(e)},Ie.prototype.get=function(e){return this.__data__.get(e)},Ie.prototype.has=function(e){return this.__data__.has(e)},Ie.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!de||n.length<199)return n.push([e,t]),this;r=this.__data__=new Pe(n)}return r.set(e,t),this};var ze=le?W(le,Object):ht,Ke=le?function(e){for(var t=[];e;)V(t,ze(e)),e=ue(e);return t}:ht,Ge=function(e){return ne.call(e)};function We(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Xe(e,t){if(ot(e))return!1;var r=n(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!lt(e))||(P.test(e)||!S.test(e)||null!=t&&e in Object(t))}function Je(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function He(e){return e==e&&!ct(e)}function Qe(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}(pe&&Ge(new pe(new ArrayBuffer(1)))!=A||de&&Ge(new de)!=h||ye&&Ge(ye.resolve())!=b||ve&&Ge(new ve)!=w||he&&Ge(new he)!=x)&&(Ge=function(e){var t=ne.call(e),r=t==g?e.constructor:void 0,n=r?et(r):void 0;if(n)switch(n){case ge:return A;case be:return h;case _e:return b;case we:return w;case je:return x}return t});var Ye=tt((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(lt(e))return ke?ke.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var r=[];return E.test(e)&&r.push(""),e.replace(I,(function(e,t,n,o){r.push(n?o.replace(N,"$1"):t||e)})),r}));function Ze(e){if("string"==typeof e||lt(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function et(e){if(null!=e){try{return te.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function tt(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(tt.Cache||Pe),r}function rt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return st(e)&&it(e)}(e)&&re.call(e,"callee")&&(!ce.call(e,"callee")||ne.call(e)==c)}tt.Cache=Pe;var ot=Array.isArray;function it(e){return null!=e&&ut(e.length)&&!at(e)}function at(e){var t=ct(e)?ne.call(e):"";return t==y||t==v}function ut(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function ct(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function st(e){return!!e&&"object"==n(e)}function lt(e){return"symbol"==n(e)||st(e)&&ne.call(e)==O}var ft,pt=q?(ft=q,function(e){return ft(e)}):function(e){return st(e)&&ut(e.length)&&!!C[ne.call(e)]};function dt(e){return it(e)?Ne(e):function(e){if(!Je(e))return fe(e);var t=[];for(var r in Object(e))re.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}function yt(e){return it(e)?Ne(e,!0):Le(e)}function vt(e){return e}function ht(){return[]}e.exports=function(e,t){return null==e?{}:function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],u=e[a];r(u,a)&&(i[a]=u)}return i}(e,Ue(e),De(t))}}(S,S.exports);var P=d(S.exports),E=9007199254740991,I="[object Arguments]",N="[object Function]",$="[object GeneratorFunction]",M="[object Symbol]",C="object"==n(p)&&p&&p.Object===Object&&p,T="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,R=C||T||Function("return this")();function D(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var L=Object.prototype,B=L.hasOwnProperty,F=L.toString,U=R.Symbol,q=L.propertyIsEnumerable,V=U?U.isConcatSpreadable:void 0,z=Math.max;function K(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=G),o||(o=[]);++i<a;){var u=e[i];t>0&&r(u)?t>1?K(u,t-1,r,n,o):D(o,u):n||(o[o.length]=u)}return o}function G(e){return X(e)||function(e){return function(e){return J(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=E}(e.length)&&!function(e){var t=function(e){var t=n(e);return!!e&&("object"==t||"function"==t)}(e)?F.call(e):"";return t==N||t==$}(e)}(e)}(e)&&B.call(e,"callee")&&(!q.call(e,"callee")||F.call(e)==I)}(e)||!!(V&&e&&e[V])}function W(e){if("string"==typeof e||function(e){return"symbol"==n(e)||J(e)&&F.call(e)==M}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var X=Array.isArray;function J(e){return!!e&&"object"==n(e)}var H,Q,Y=(H=function(e,t){return null==e?{}:function(e,t){return function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],u=e[a];r(u,a)&&(i[a]=u)}return i}(e=Object(e),t,(function(t,r){return r in e}))}(e,function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(K(t,1),W))},Q=z(void 0===Q?H.length-1:Q,0),function(){for(var e=arguments,t=-1,r=z(e.length-Q,0),n=Array(r);++t<r;)n[t]=e[Q+t];t=-1;for(var o=Array(Q+1);++t<Q;)o[t]=e[t];return o[Q]=n,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(H,this,o)}),Z=d(Y),ee="object"==n(p)&&p&&p.Object===Object&&p,te="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,re=(ee||te||Function("return this")()).Symbol,ne=re?re.prototype:void 0;ne&&ne.toString;for(var oe=function(e){return!A(e)},ie=function(e){return function(e){return!x(e)}(e)&&function(e){return null!=e}(e)},ae=function(e){return P(e,ie)},ue=function(e,t){return Z(e,t)},ce=256;ce--;)(ce+256).toString(16).substring(1);for(var se=0;se<256;se++)(se+256).toString(16).substring(1);var le=new O(w),fe=["context.traits"],pe=["email","E-mail","Email","phone","Phone","name","Name","lastName","lastname","last_name","firstName","firstname","first_name"],de={created:"$created",email:"$email",firstName:"$first_name",lastName:"$last_name",lastSeen:"$last_seen",name:"$name",username:"$username",phone:"$phone"};function ye(e,t){var r,n=t.split("."),o=n.pop(),i=e,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(n);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(void 0===i[u]||null===i[u])return;i=i[u]}}catch(c){a.e(c)}finally{a.f()}delete i[o]}var ve=function(e,t){var n=function(e){var t={userId:b(e,"userId")||b(e,"context.traits.userId")||b(e,"anonymousId"),userIdOnly:b(e,"userId")||b(e,"context.traits.userId"),email:b(e,"context.traits.email")||b(e,"context.traits.Email")||b(e,"context.traits.E-mail"),phone:b(e,"context.traits.phone")||b(e,"context.traits.Phone"),firstName:b(e,"context.traits.firstName")||b(e,"context.traits.firstname")||b(e,"context.traits.first_name"),lastName:b(e,"context.traits.lastName")||b(e,"context.traits.lastname")||b(e,"context.traits.last_name"),name:b(e,"context.traits.name")||b(e,"context.traits.Name"),state:b(e,"context.traits.state")||b(e,"context.traits.State")||b(e,"context.traits.address.state")||b(e,"context.traits.address.State"),city:b(e,"context.traits.city")||b(e,"context.traits.City")||b(e,"context.traits.address.city")||b(e,"context.traits.address.City"),country:b(e,"context.traits.country")||b(e,"context.traits.Country")||b(e,"context.traits.address.country")||b(e,"context.traits.address.Country")};return!b(t,"name")&&b(t,"firstName")&&b(t,"lastName")&&(t.name="".concat(b(t,"firstName")," ").concat(b(t,"lastName"))),t}(e),o={email:n.email,firstName:n.firstName,lastName:n.lastName,phone:n.phone,name:n.name};try{o=function(e,t,r,n){var o=[],i=t||{};return Array.isArray(r)?r.forEach((function(t){var r=b(e,t);r&&(Object.keys(r).forEach((function(e){n.includes(e)||o.push(e)})),o.forEach((function(e){void 0!==r[e]&&(i[e]=b(r,e))})))})):"root"===r&&(Object.keys(e).forEach((function(e){n.includes(e)||o.push(e)})),o.forEach((function(t){void 0!==e[t]&&(i[t]=b(e,t))}))),i}(e,o,fe,pe)}catch(i){le.error("Error occured at extractCustomFields ".concat(i))}return function(e,t){var n=r({},e),o={};return t.forEach((function(e){var t=e.split("."),r=t[t.length-1];Object.keys(n).length>0&&b(n,e)&&(o[r]=b(n,e),ye(n,e))})),{setTraits:n,setOnce:o,email:e.email,username:e.username}}(o,t)},he=function(e,t){if(e)return e.map((function(e){return e[t]}));le.error("arr is undefined or null")},me=function(e,t){var r=e;return Object.keys(t).forEach((function(e){var n=t[e];r[n]=r[e],delete r[e]})),r},ge=function(e){var t=[];return e.forEach((function(e){Object.prototype.hasOwnProperty.call(de,e)?t.push(de[e]):t.push(e)})),t};var be=new O(w),_e=function(){function e(t,r,n){o(this,e),r.logLevel&&be.setLogLevel(r.logLevel),this.analytics=r,this.name=_,this.accountId=t.accountId,this.token=t.token,this.people=t.people||!1,this.dataResidency=t.dataResidency||"us",this.setAllTraitsByDefault=t.setAllTraitsByDefault||!1,this.superProperties=t.superProperties||[],this.setOnceProperties=t.setOnceProperties||[],this.eventIncrements=t.eventIncrements||[],this.propIncrements=t.propIncrements||[],this.sourceName=t.sourceName,this.consolidatedPageCalls=function(e){return!Object.prototype.hasOwnProperty.call(e,"consolidatedPageCalls")||e.consolidatedPageCalls}(t),this.trackCategorizedPages=t.trackCategorizedPages||!1,this.trackNamedPages=t.trackNamedPages||!1,this.groupKeySettings=t.groupKeySettings||[],this.peopleProperties=t.peopleProperties||[],this.crossSubdomainCookie=t.crossSubdomainCookie||!1,this.secureCookie=t.secureCookie||!1,this.persistenceType=t.persistenceType||"cookie",this.persistenceName=t.persistenceName,this.traitAliases={created:"$created",email:"$email",firstName:"$first_name",lastName:"$last_name",lastSeen:"$last_seen",name:"$name",username:"$username",phone:"$phone"},this.identityMergeApi=t.identityMergeApi||"original";var i=null!=n?n:{};this.shouldApplyDeviceModeTransformation=i.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=i.propagateEventsUntransformedOnError,this.destinationId=i.destinationId,this.ignoreDnt=t.ignoreDnt||!1}return a(e,[{key:"init",value:function(){var e,t,r,n,o,i;e=document,(t=window.mixpanel||[]).__SV||(window.mixpanel=t,t._i=[],t.init=function(e,r,n){function a(e,t){var r=t.split(".");2==r.length&&(e=e[r[0]],t=r[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var u=t;for(void 0!==n?u=t[n]=[]:n="mixpanel",u.people=u.people||[],u.toString=function(e){var t="mixpanel";return"mixpanel"!==n&&(t+="."+n),e||(t+=" (stub)"),t},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),i=0;i<o.length;i++)a(u,o[i]);var c="set set_once union unset remove delete".split(" ");u.get_group=function(){function e(e){t[e]=function(){call2_args=arguments,call2=[e].concat(Array.prototype.slice.call(call2_args,0)),u.push([r,call2])}}for(var t={},r=["get_group"].concat(Array.prototype.slice.call(arguments,0)),n=0;n<c.length;n++)e(c[n]);return t},t._i.push([e,r,n])},t.__SV=1.2,(r=e.createElement("script")).type="text/javascript",r.async=!0,r.setAttribute("data-loader","RS_JS_SDK"),r.src="undefined"!=typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js",(n=e.getElementsByTagName("script")[0]).parentNode.insertBefore(r,n));var a={cross_subdomain_cookie:this.crossSubdomainCookie||!1,secure_cookie:this.secureCookie||!1};this.persistenceName&&(a.persistence_name=this.persistenceName),"none"!==this.persistenceType?a.persistence=this.persistenceType:a.disable_persistence=!0,"eu"===this.dataResidency&&(a.api_host="https://api-eu.mixpanel.com"),this.ignoreDnt&&(a.ignore_dnt=!0),window.mixpanel.init(this.token,a)}},{key:"isLoaded",value:function(){var e;return window.mixpanel.register({mp_lib:"Rudderstack: web"}),!(null===(e=window)||void 0===e||null===(e=e.mixpanel)||void 0===e||!e.config)}},{key:"isReady",value:function(){var e;return!(null===(e=window)||void 0===e||null===(e=e.mixpanel)||void 0===e||!e.config)}},{key:"identify",value:function(e){var t,r,n=he(this.peopleProperties,"property");t=n,r=[],Object.keys(de).forEach((function(e){r.push(e)})),r.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),n=t;var o=he(this.superProperties,"property"),i=he(this.setOnceProperties,"property"),a=e.message.userId||e.message.anonymousId;"simplified"===this.identityMergeApi&&(a=e.message.userId);var u=ve(e.message,i);a&&window.mixpanel.identify(a);var s=u.email||u.username;s&&window.mixpanel.name_tag(s);var l=me(u.setTraits,this.traitAliases);l=ae(l);var f=me(u.setOnce,this.traitAliases);f=ae(f);var p={},d={};if(Object.keys(l).forEach((function(e){if(Object.prototype.hasOwnProperty.call(l,e)){var t=l[e];if(Array.isArray(t)&&t.length>0){p[e]=t;var r=window.mixpanel.get_property(e);r&&Array.isArray(r)&&(l[e]=(n=r,o=t,i=new Set,n.forEach((function(e){i.add(e)})),o.forEach((function(e){i.add(e)})),c(i)))}else d[e]=t}var n,o,i})),this.people&&f&&Object.keys(f).length>0&&window.mixpanel.people.set_once(f),this.setAllTraitsByDefault)window.mixpanel.register(l),this.people&&(window.mixpanel.people.set(d),window.mixpanel.people.union(p));else{var y=ge(o),v=ue(l,y||[]);if(oe(v)&&window.mixpanel.register(v),this.people){var h=ge(n),m=ue(d,h||[]),g=ue(p,h||[]);oe(m)&&window.mixpanel.people.set(m),oe(g)&&window.mixpanel.people.union(g)}}}},{key:"page",value:function(e){var t=e.message,r=t.name,n=t.properties,o=n.category;if(!this.consolidatedPageCalls)return this.trackCategorizedPages&&o?r?void window.mixpanel.track("Viewed ".concat(o," ").concat(r," Page"),n):void window.mixpanel.track("Viewed ".concat(o," Page "),n):void(r&&this.trackNamedPages&&window.mixpanel.track("Viewed ".concat(r," Page"),n));window.mixpanel.track("Loaded a Page",n)}},{key:"track",value:function(e){var t,o,i,a=e.message,u=he(this.eventIncrements,"property"),c=he(this.propIncrements,"property"),s=b(a,"event"),l=b(a,"properties.revenue")||b(a,"properties.total"),f=this.sourceName,p=this.people,d=b(a,"properties");oe(d)&&(o=t=d,Object.keys(t).forEach((function(e){var r=!1;Array.isArray(t[e])&&(t[e].forEach((function(t){"object"===n(t)&&(Object.entries(t).forEach((function(t){var r="".concat(e,"_").concat(t[0],"s");r in o?o[r].push(t[1]):o[r]=[t[1]]})),r=!0)})),r&&delete o[e])})),d=o),f&&((d=r({},d)).rudderstack_source_name=f),delete d.distinct_id,delete d.ip,delete d.mp_name_tag,delete d.mp_note,delete d.token,p&&(-1!==u.indexOf(s)&&(window.mixpanel.people.increment(s),window.mixpanel.people.set("Last ".concat(s),new Date)),Object.keys(d).forEach((function(e){var t=d[e];t&&c.includes(e)&&window.mixpanel.people.increment(e,t)})),l&&window.mixpanel.people.track_charge(l)),d.link_query?(i=d.link_query,delete d.link_query,window.mixpanel.track_links(i,s,d)):d.form_query?(i=d.form_query,delete d.form_query,window.mixpanel.track_forms(i,s,d)):window.mixpanel.track(s,d)}},{key:"group",value:function(e){var t=e.message,r=t.userId,n=t.groupId,o=t.traits;if(r)if(n)if(this.groupKeySettings&&0!==this.groupKeySettings.length){var i=he(this.groupKeySettings,"groupKey");o&&Object.keys(o).length>0&&i.forEach((function(e){window.mixpanel.get_group(e,n).set_once(o)})),i.forEach((function(e){return window.mixpanel.set_group(e,[n])}))}else be.error("groupIdentifierTraits is required for group");else be.error("valid groupId is required for group");else be.error("valid userId is required for group")}},{key:"alias",value:function(e){if("simplified"!==this.identityMergeApi){var t=e.message,r=t.previousId,n=t.userId;r?n?window.mixpanel.get_distinct_id&&window.mixpanel.get_distinct_id()===n?be.error("userId is same as previousId. Skipping alias"):window.mixpanel.alias(n,r):be.error("userId is required for alias call"):be.error("previousId is required for alias call")}else be.error("Alias call is deprecated in 'Simplified ID Merge'")}}]),e}();return e.Mixpanel=_e,e}({});
//# sourceMappingURL=Mixpanel.min.js.map
